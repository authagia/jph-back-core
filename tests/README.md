# テスト

このディレクトリには、プロジェクトのテストファイルが含まれています。

## テストの実行

```bash
# すべてのテストを実行
bun test

# テストをウォッチモードで実行
bun test --watch

# 特定のテストファイルを実行
bun test tests/secretLoader.test.ts
```

## テストファイル

- `secretLoader.test.ts` - SecretKeyLoaderクラスのテスト
- `express.test.ts` - Expressルートのテスト
- `oprf.test.ts` - OPRF機能のテスト
- `setup.ts` - テスト環境のセットアップ

## テストの内容

### SecretKeyLoader テスト
- 秘密鍵ファイルの読み込み
- エラーハンドリング
- パス解決の確認
- Base64デコードの確認

### Express ルート テスト
- GET / エンドポイントのテスト
- POST /upload-binary エンドポイントのテスト
- エラーレスポンスのテスト
- 404エラーのテスト

### OPRF 機能テスト
- クライアント・サーバーの初期化
- 単一・複数入力の処理
- 決定性の確認
- シリアライゼーションのテスト

## 注意事項

- テスト実行時は一時的なファイルが作成されますが、テスト終了後に自動的に削除されます
- 実際の秘密鍵ファイルは使用せず、テスト用のダミーデータを使用します
